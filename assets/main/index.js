System.register("chunks:///_virtual/Building.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,i,n,o,u,l,a,c;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,u=e._decorator,l=e.Sprite,a=e.SpriteFrame,c=e.Component}],execute:function(){var p,s,f,d,g,h,y;o._RF.push({},"efed9wSgehKFbHpsEL3Mqw6","Building",void 0);var b=u.ccclass,z=u.property;e("Building",(p=b("Building"),s=z(l),f=z(a),p((h=r((g=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),u=0;u<t;u++)o[u]=arguments[u];return r=e.call.apply(e,[this].concat(o))||this,i(r,"sprite",h,n(r)),i(r,"frozenTexture",y,n(r)),r}return t(r,e),r.prototype.onLoad=function(){this.sprite.spriteFrame=this.frozenTexture},r}(c)).prototype,"sprite",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=r(g.prototype,"frozenTexture",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=g))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/GeoLocation.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var e,r,n;return{setters:[function(o){e=o.asyncToGenerator,r=o.regeneratorRuntime},function(o){n=o.cclegacy}],execute:function(){n._RF.push({},"6be9daMJLhHUpTEjY7liiUl","GeoLocation",void 0);o("GeoLocation",function(){function o(){}return o.getUserLocation=function(){var o=e(r().mark((function o(){return r().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",new Promise((function(o,e){if(!navigator.geolocation)return console.error("âŒ Ð“ÐµÐ¾Ð»Ð¾ÐºÐ°Ñ†Ñ–Ñ Ð½Ðµ Ð¿Ñ–Ð´Ñ‚Ñ€Ð¸Ð¼ÑƒÑ”Ñ‚ÑŒÑÑ Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ð¾Ð¼."),void e(null);navigator.geolocation.getCurrentPosition((function(e){console.log("ðŸ“ ÐžÑ‚Ñ€Ð¸Ð¼Ð°Ð½Ð¾ ÐºÐ¾Ð¾Ñ€Ð´Ð¸Ð½Ð°Ñ‚Ð¸:",e.coords.latitude,e.coords.longitude),o({lat:e.coords.latitude,lon:e.coords.longitude})}),(function(o){switch(console.error("âŒ ÐŸÐ¾Ð¼Ð¸Ð»ÐºÐ° Ð¾Ñ‚Ñ€Ð¸Ð¼Ð°Ð½Ð½Ñ Ð³ÐµÐ¾Ð»Ð¾ÐºÐ°Ñ†Ñ–Ñ— ("+o.code+"):",o.message),o.code){case o.PERMISSION_DENIED:console.error("âŒ ÐšÐ¾Ñ€Ð¸ÑÑ‚ÑƒÐ²Ð°Ñ‡ Ð·Ð°Ð±Ð¾Ñ€Ð¾Ð½Ð¸Ð² Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ð´Ð¾ Ð³ÐµÐ¾Ð»Ð¾ÐºÐ°Ñ†Ñ–Ñ—.");break;case o.POSITION_UNAVAILABLE:console.error("âŒ Ð†Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ñ–Ñ Ð¿Ñ€Ð¾ Ð¼Ñ–ÑÑ†ÐµÐ·Ð½Ð°Ñ…Ð¾Ð´Ð¶ÐµÐ½Ð½Ñ Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð°.");break;case o.TIMEOUT:console.error("âŒ Ð—Ð°Ð¿Ð¸Ñ‚ Ð½Ð° Ð¾Ñ‚Ñ€Ð¸Ð¼Ð°Ð½Ð½Ñ Ð³ÐµÐ¾Ð»Ð¾ÐºÐ°Ñ†Ñ–Ñ— Ð¿ÐµÑ€ÐµÐ²Ð¸Ñ‰Ð¸Ð² Ñ‡Ð°Ñ Ð¾Ñ‡Ñ–ÐºÑƒÐ²Ð°Ð½Ð½Ñ.");break;default:console.error("âŒ ÐÐµÐ²Ñ–Ð´Ð¾Ð¼Ð° Ð¿Ð¾Ð¼Ð¸Ð»ÐºÐ°.")}e(null)}),{enableHighAccuracy:!0,timeout:1e4})})));case 1:case"end":return o.stop()}}),o)})));return function(){return o.apply(this,arguments)}}(),o}());n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Building.ts","./GeoLocation.ts","./Main.ts","./MapboxManager.ts","./MapboxService.ts"],(function(){return{setters:[null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Main.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MapboxService.ts"],(function(e){var n,t,r,i,o,a,s,c,u,l,p,f;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,u=e.Prefab,l=e.instantiate,p=e.Component},function(e){f=e.MapboxService}],execute:function(){var g,d,b,h,v;s._RF.push({},"88c665oYhBGMKQDNFN3BjF0","Main",void 0);var y=c.ccclass,M=c.property;e("Main",(g=y("Main"),d=M(u),g((v=n((h=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o))||this,r(n,"buildingPrefab",v,i(n)),n}t(n,e);var s=n.prototype;return s.start=function(){var e=o(a().mark((function e(){var n,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("âœ… Main.ts Ð¿Ñ–Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ð¹ ÑƒÑÐ¿Ñ–ÑˆÐ½Ð¾!"),e.next=3,GeoLocation.getUserLocation();case 3:if(n=e.sent){e.next=6;break}return e.abrupt("return");case 6:return console.log("ðŸŒ Ð’Ð¸ÐºÐ¾Ð½ÑƒÑŽ Ð·Ð°Ð¿Ð¸Ñ‚ Ð´Ð¾ Mapbox API..."),e.next=9,f.getBuildings(n.lat,n.lon);case 9:t=e.sent,console.log("ðŸ¢ ÐžÑ‚Ñ€Ð¸Ð¼Ð°Ð½Ñ– Ð±ÑƒÐ´Ñ–Ð²Ð»Ñ–:",t),this.spawnBuildings(t);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.spawnBuildings=function(e){var n=this;e.forEach((function(e){var t=l(n.buildingPrefab);t.setPosition(e.geometry.coordinates[0],e.geometry.coordinates[1]),n.node.addChild(t)}))},n}(p)).prototype,"buildingPrefab",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=h))||b));s._RF.pop()}}}));

System.register("chunks:///_virtual/MapboxManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GeoLocation.ts"],(function(e){var t,r,n,a,o,i,s,c,p,u,l,f,m,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,p=e.Sprite,u=e.Component,l=e.assetManager,f=e.Texture2D,m=e.SpriteFrame},function(e){v=e.GeoLocation}],execute:function(){var h,d,g,y,b,M;s._RF.push({},"bcef5cvnl9J4aNEIhmJosiH","MapboxManager",void 0);var x=c.ccclass,S=c.property;e("MapboxManager",(h=x("MapboxManager"),d=S(p),h(((M=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,n(t,"mapSprite",b,a(t)),t}r(t,e);var s=t.prototype;return s.start=function(){this.updateUserLocation(),this.schedule(this.updateUserLocation,30)},s.updateUserLocation=function(){var e=o(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getUserLocation();case 2:(t=e.sent)?(console.log("ðŸ“ Ð“ÐµÐ¾Ð»Ð¾ÐºÐ°Ñ†Ñ–Ñ Ð¾Ð½Ð¾Ð²Ð»ÐµÐ½Ð°:",t),this.updateMap(t.lat,t.lon)):console.error("âŒ ÐÐµ Ð²Ð´Ð°Ð»Ð¾ÑÑ Ð¾Ñ‚Ñ€Ð¸Ð¼Ð°Ñ‚Ð¸ Ð³ÐµÐ¾Ð»Ð¾ÐºÐ°Ñ†Ñ–ÑŽ.");case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.updateMap=function(){var e=o(i().mark((function e(r,n,a){var o,s=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===a&&(a=15),512,512,o=t.MAPBOX_API_URL+"/"+n+","+r+","+a+"/512x512?access_token="+t.ACCESS_TOKEN,l.loadRemote(o,(function(e,t){if(e)console.error("âŒ ÐŸÐ¾Ð¼Ð¸Ð»ÐºÐ° Ð·Ð°Ð²Ð°Ð½Ñ‚Ð°Ð¶ÐµÐ½Ð½Ñ ÐºÐ°Ñ€Ñ‚Ð¸:",e);else{var r=new f;r.image=t;var n=new m;n.texture=r,s.mapSprite?(s.mapSprite.spriteFrame=n,console.log("âœ… ÐšÐ°Ñ€Ñ‚Ð° Ð¾Ð½Ð¾Ð²Ð»ÐµÐ½Ð°!")):console.error("âŒ ÐŸÐ¾Ð¼Ð¸Ð»ÐºÐ°: mapSprite Ð½Ðµ Ð²Ð¸Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¾.")}}));case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),t}(u)).MAPBOX_API_URL="https://api.mapbox.com/styles/v1/mapbox/streets-v11/static",M.ACCESS_TOKEN="pk.eyJ1IjoiaWNldG93biIsImEiOiJjbTY3dGN0NTYwNm1yMmtzOHRuczlqbnI3In0.QSvL3pbw9YdvjHar6uyJ7g",b=t((y=M).prototype,"mapSprite",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=y))||g));s._RF.pop()}}}));

System.register("chunks:///_virtual/MapboxService.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,n;return{setters:[function(e){r=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"65a4dAzBiROD4DKUaoAj/oZ","MapboxService",void 0);var i=e("MapboxService",function(){function e(){}return e.getBuildings=function(){var e=r(t().mark((function e(r,n,i){var u,o,c;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===i&&(i=50),u=this.API_URL+"/"+n+","+r+".json?radius="+i+"&limit=10&access_token="+this.ACCESS_TOKEN,e.prev=2,e.next=5,fetch(u);case 5:return o=e.sent,e.next=8,o.json();case 8:return c=e.sent,e.abrupt("return",c.features);case 12:return e.prev=12,e.t0=e.catch(2),console.error("Error fetching buildings:",e.t0),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,this,[[2,12]])})));return function(r,t,n){return e.apply(this,arguments)}}(),e}());i.API_URL="https://api.mapbox.com/v4/mapbox.mapbox-streets-v8/tilequery",i.ACCESS_TOKEN="pk.eyJ1IjoiaWNldG93biIsImEiOiJjbTY3dGN0NTYwNm1yMmtzOHRuczlqbnI3In0.QSvL3pbw9YdvjHar6uyJ7g",n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2ZpbGU6L1VzZXJzL3NlcmdpaXRyeW5jaHVrL0Rlc2t0b3AvSWNlVG93bl92Mi9hc3NldHMvc2NyaXB0cy9maWxlOi9Vc2Vycy9zZXJnaWl0cnluY2h1ay9EZXNrdG9wL0ljZVRvd25fdjIvYXNzZXRzL3NjcmlwdHMvQnVpbGRpbmcudHMiLCIuLi9maWxlOi9Vc2Vycy9zZXJnaWl0cnluY2h1ay9EZXNrdG9wL0ljZVRvd25fdjIvYXNzZXRzL3NjcmlwdHMvZmlsZTovVXNlcnMvc2VyZ2lpdHJ5bmNodWsvRGVza3RvcC9JY2VUb3duX3YyL2Fzc2V0cy9zY3JpcHRzL0dlb0xvY2F0aW9uLnRzIiwiLi4vZmlsZTovVXNlcnMvc2VyZ2lpdHJ5bmNodWsvRGVza3RvcC9JY2VUb3duX3YyL2Fzc2V0cy9zY3JpcHRzL2ZpbGU6L1VzZXJzL3NlcmdpaXRyeW5jaHVrL0Rlc2t0b3AvSWNlVG93bl92Mi9hc3NldHMvc2NyaXB0cy9NYWluLnRzIiwiLi4vZmlsZTovVXNlcnMvc2VyZ2lpdHJ5bmNodWsvRGVza3RvcC9JY2VUb3duX3YyL2Fzc2V0cy9zY3JpcHRzL2ZpbGU6L1VzZXJzL3NlcmdpaXRyeW5jaHVrL0Rlc2t0b3AvSWNlVG93bl92Mi9hc3NldHMvc2NyaXB0cy9NYXBib3hNYW5hZ2VyLnRzIiwiLi4vZmlsZTovVXNlcnMvc2VyZ2lpdHJ5bmNodWsvRGVza3RvcC9JY2VUb3duX3YyL2Fzc2V0cy9zY3JpcHRzL2ZpbGU6L1VzZXJzL3NlcmdpaXRyeW5jaHVrL0Rlc2t0b3AvSWNlVG93bl92Mi9hc3NldHMvc2NyaXB0cy9NYXBib3hTZXJ2aWNlLnRzIl0sIm5hbWVzIjpbImNjY2xhc3MiLCJfZGVjb3JhdG9yIiwicHJvcGVydHkiLCJfZGVjIiwiX2RlYzIiLCJTcHJpdGUiLCJfZGVjMyIsIlNwcml0ZUZyYW1lIiwiX2Rlc2NyaXB0b3IiLCJfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yIiwiX2NsYXNzMiIsIl9Db21wb25lbnQiLCJCdWlsZGluZyIsIl90aGlzIiwiX2xlbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsImFyZ3MiLCJBcnJheSIsIl9rZXkiLCJjYWxsIiwiYXBwbHkiLCJjb25jYXQiLCJfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSIsIl9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiLCJfZGVzY3JpcHRvcjIiLCJfaW5oZXJpdHNMb29zZSIsInByb3RvdHlwZSIsIm9uTG9hZCIsInRoaXMiLCJzcHJpdGUiLCJzcHJpdGVGcmFtZSIsImZyb3plblRleHR1cmUiLCJDb21wb25lbnQiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwid3JpdGFibGUiLCJpbml0aWFsaXplciIsIl9jbGFzcyIsIl9SRiIsInBvcCIsIkdlb0xvY2F0aW9uIiwiZ2V0VXNlckxvY2F0aW9uIiwiX2dldFVzZXJMb2NhdGlvbiIsIl9hc3luY1RvR2VuZXJhdG9yIiwiX3JlZ2VuZXJhdG9yUnVudGltZSIsIm1hcmsiLCJfY2FsbGVlIiwid3JhcCIsIl9jb250ZXh0IiwicHJldiIsIm5leHQiLCJhYnJ1cHQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIm5hdmlnYXRvciIsImdlb2xvY2F0aW9uIiwiY29uc29sZSIsImVycm9yIiwiZ2V0Q3VycmVudFBvc2l0aW9uIiwicG9zaXRpb24iLCJsb2ciLCJjb29yZHMiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsImxhdCIsImxvbiIsImNvZGUiLCJtZXNzYWdlIiwiUEVSTUlTU0lPTl9ERU5JRUQiLCJQT1NJVElPTl9VTkFWQUlMQUJMRSIsIlRJTUVPVVQiLCJlbmFibGVIaWdoQWNjdXJhY3kiLCJ0aW1lb3V0Iiwic3RvcCIsIlByZWZhYiIsIk1haW4iLCJfcHJvdG8iLCJzdGFydCIsIl9zdGFydCIsImxvY2F0aW9uIiwiYnVpbGRpbmdzIiwic2VudCIsIk1hcGJveFNlcnZpY2UiLCJnZXRCdWlsZGluZ3MiLCJzcGF3bkJ1aWxkaW5ncyIsIl90aGlzMiIsImZvckVhY2giLCJidWlsZGluZ0RhdGEiLCJidWlsZGluZ05vZGUiLCJpbnN0YW50aWF0ZSIsImJ1aWxkaW5nUHJlZmFiIiwic2V0UG9zaXRpb24iLCJnZW9tZXRyeSIsImNvb3JkaW5hdGVzIiwibm9kZSIsImFkZENoaWxkIiwiX2NsYXNzMyIsIk1hcGJveE1hbmFnZXIiLCJ1cGRhdGVVc2VyTG9jYXRpb24iLCJzY2hlZHVsZSIsIl91cGRhdGVVc2VyTG9jYXRpb24iLCJ1cGRhdGVNYXAiLCJfdXBkYXRlTWFwIiwiX2NhbGxlZTIiLCJ6b29tIiwidXJsIiwiX2NvbnRleHQyIiwiTUFQQk9YX0FQSV9VUkwiLCJBQ0NFU1NfVE9LRU4iLCJhc3NldE1hbmFnZXIiLCJsb2FkUmVtb3RlIiwiZXJyIiwiaW1hZ2VBc3NldCIsInRleHR1cmUiLCJUZXh0dXJlMkQiLCJpbWFnZSIsIm1hcFNwcml0ZSIsIl94IiwiX3gyIiwiX3gzIiwiX2dldEJ1aWxkaW5ncyIsInJhZGl1cyIsInJlc3BvbnNlIiwiZGF0YSIsIkFQSV9VUkwiLCJmZXRjaCIsImpzb24iLCJmZWF0dXJlcyIsInQwIl0sIm1hcHBpbmdzIjoidWJBQ0EsSUFBUUEsRUFBc0JDLEVBQXRCRCxRQUFTRSxFQUFhRCxFQUFiQyx1QkFHSUMsRUFEcEJILEVBQVEsWUFBV0ksRUFFZkYsRUFBU0csR0FBT0MsRUFHaEJKLEVBQVNLLEdBQVlKLEdBSmFLLEVBQUFDLEdBSWJDLFdBQUFDLEdBQUEsU0FBQUMsSUFBQSxJQUFBLElBQUFDLEVBQUFDLEVBQUFDLFVBQUFDLE9BQUFDLE1BQUFDLE1BQUFKLEdBQUFLLElBQUFBLEVBQUFMLEVBQUFLLElBQUFGLEVBQUFFLEdBQUFKLFVBQUFJLEdBQUEsT0FBQU4sRUFBQUYsRUFBQVMsS0FBQUMsTUFBQVYsU0FBQVcsT0FBQUwsVUFBQU0sRUFBQVYsV0FBQUwsRUFBQWdCLEVBQUFYLElBQUFVLEVBQUFWLGtCQUFBWSxFQUFBRCxFQUFBWCxJQUFBQSxFQUtyQixPQUxxQmEsRUFBQWQsRUFBQUQsR0FBQUMsRUFBQWUsVUFHdEJDLE9BQUEsV0FDSUMsS0FBS0MsT0FBT0MsWUFBY0YsS0FBS0csZUFDbENwQixHQVR5QnFCLElBQVNOLG9CQUFBdkIsSUFBQThCLGdCQUFBQyxjQUFBQyxZQUFBQyx1QkFBQSxPQUVsQixRQUFJWixFQUFBaEIsRUFBQUMsRUFBQWlCLDJCQUFBckIsSUFBQTRCLGdCQUFBQyxjQUFBQyxZQUFBQyx1QkFBQSxPQUdRLFFBRFBDLEVBQ1c1QixLQUFBNEIsTUFLcENDLElBQUFDOzt1VUNkdUIsU0FBQUMsS0FxQ25CLE9BckNtQkEsRUFDUEMsMkJBQWUsSUFBQUMsRUFBQUMsRUFBQUMsSUFBQUMsTUFBNUIsU0FBQUMsSUFBQSxPQUFBRixJQUFBRyxlQUFBQyxHQUFBLGNBQUFBLEVBQUFDLEtBQUFELEVBQUFFLE1BQUEsT0FBQSxPQUFBRixFQUFBRyxnQkFDVyxJQUFJQyxTQUFRLFNBQUNDLEVBQVNDLEdBQ3pCLElBQUtDLFVBQVVDLFlBR1gsT0FGQUMsUUFBUUMsTUFBTSxpREFDZEosRUFBTyxNQUlYQyxVQUFVQyxZQUFZRyxvQkFDbEIsU0FBQ0MsR0FDR0gsUUFBUUksSUFBSSwwQkFBMkJELEVBQVNFLE9BQU9DLFNBQVVILEVBQVNFLE9BQU9FLFdBQ2pGWCxFQUFRLENBQ0pZLElBQUtMLEVBQVNFLE9BQU9DLFNBQ3JCRyxJQUFLTixFQUFTRSxPQUFPRSxlQUc3QixTQUFDTixHQUVHLE9BREFELFFBQVFDLHlDQUF5Q0EsRUFBTVMsVUFBVVQsRUFBTVUsU0FDL0RWLEVBQU1TLE1BQ1YsS0FBS1QsRUFBTVcsa0JBQ1BaLFFBQVFDLE1BQU0sZ0RBQ2QsTUFDSixLQUFLQSxFQUFNWSxxQkFDUGIsUUFBUUMsTUFBTSxpREFDZCxNQUNKLEtBQUtBLEVBQU1hLFFBQ1BkLFFBQVFDLE1BQU0sNkRBQ2QsTUFDSixRQUNJRCxRQUFRQyxNQUFNLHVCQUV0QkosRUFBTyxRQUVYLENBQUVrQixvQkFBb0IsRUFBTUMsUUFBUyxVQUUzQyxPQUFBLFVBQUEsT0FBQXpCLEVBQUEwQixVQUFBNUIsT0FDTCxPQUFBLFdBQUEsT0FBQUosRUFBQXRCLFdBQUFOLGVBQUEwQixRQUNKRixJQUFBQzs7OztpaEJDcENELElBQVF4QyxFQUFzQkMsRUFBdEJELFFBQVNFLEVBQWFELEVBQWJDLG1CQUdBQyxFQURoQkgsRUFBUSxRQUFPSSxFQUVYRixFQUFTMEUsR0FBT3pFLEdBRGNLLEVBQUFDLEdBQ2RDLFdBQUFDLEdBQUEsU0FBQWtFLElBQUEsSUFBQSxJQUFBaEUsRUFBQUMsRUFBQUMsVUFBQUMsT0FBQUMsTUFBQUMsTUFBQUosR0FBQUssSUFBQUEsRUFBQUwsRUFBQUssSUFBQUYsRUFBQUUsR0FBQUosVUFBQUksR0FBQSxPQUFBTixFQUFBRixFQUFBUyxLQUFBQyxNQUFBVixTQUFBVyxPQUFBTCxVQUFBTSxFQUFBVixtQkFBQUwsRUFBQWdCLEVBQUFYLElBQUFBLEVBQUFhLEVBQUFtRCxFQUFBbEUsR0FBQSxJQUFBbUUsRUFBQUQsRUFBQWxELFVBdUJoQixPQXZCZ0JtRCxFQUdYQyxpQkFBSyxJQUFBQyxFQUFBcEMsRUFBQUMsSUFBQUMsTUFBWCxTQUFBQyxJQUFBLElBQUFrQyxFQUFBQyxFQUFBLE9BQUFyQyxJQUFBRyxlQUFBQyxHQUFBLGNBQUFBLEVBQUFDLEtBQUFELEVBQUFFLE1BQUEsT0FDa0QsT0FBOUNPLFFBQVFJLElBQUksa0NBQWtDYixFQUFBRSxPQUV2QlYsWUFBWUMsa0JBQWlCLE9BQXRDLEdBQVJ1QyxFQUFRaEMsRUFBQWtDLE1BQ0RsQyxFQUFBRSxPQUFBLE1BQUEsT0FBQUYsRUFBQUcsaUJBQUEsT0FFb0MsT0FBakRNLFFBQVFJLElBQUkscUNBQXFDYixFQUFBRSxPQUV6QmlDLEVBQWNDLGFBQWFKLEVBQVNmLElBQUtlLEVBQVNkLEtBQUksT0FBeEVlLEVBQVNqQyxFQUFBa0MsS0FDZnpCLFFBQVFJLElBQUksdUJBQXdCb0IsR0FFcENyRCxLQUFLeUQsZUFBZUosR0FBVyxRQUFBLFVBQUEsT0FBQWpDLEVBQUEwQixVQUFBNUIsWUFDbEMsT0FBQSxXQUFBLE9BQUFpQyxFQUFBM0QsV0FBQU4sZUFBQStELEVBRURRLGVBQUEsU0FBZUosR0FBa0IsSUFBQUssT0FDN0JMLEVBQVVNLFNBQVEsU0FBQUMsR0FDZCxJQUFNQyxFQUFlQyxFQUFZSixFQUFLSyxnQkFDdENGLEVBQWFHLFlBQVlKLEVBQWFLLFNBQVNDLFlBQVksR0FBSU4sRUFBYUssU0FBU0MsWUFBWSxJQUNqR1IsRUFBS1MsS0FBS0MsU0FBU1AsT0FFMUJiLEdBeEJxQjVDLElBQVNOLDRCQUFBdkIsSUFBQThCLGdCQUFBQyxjQUFBQyxZQUFBQyx1QkFBQSxPQUVOLFFBRFJDLEVBQ1k1QixLQUFBNEIsTUF1QmhDQyxJQUFBQzs7b2tCQzNCRCxJQUFReEMsRUFBc0JDLEVBQXRCRCxRQUFTRSxFQUFhRCxFQUFiQyw0QkFHU0MsRUFEekJILEVBQVEsaUJBQWdCSSxFQUVwQkYsRUFBU0csR0FBT0YsSUFBQStGLFdBQUF2RixHQUFBLFNBQUF3RixJQUFBLElBQUEsSUFBQXRGLEVBQUFDLEVBQUFDLFVBQUFDLE9BQUFDLE1BQUFDLE1BQUFKLEdBQUFLLElBQUFBLEVBQUFMLEVBQUFLLElBQUFGLEVBQUFFLEdBQUFKLFVBQUFJLEdBQUEsT0FBQU4sRUFBQUYsRUFBQVMsS0FBQUMsTUFBQVYsU0FBQVcsT0FBQUwsVUFBQU0sRUFBQVYsY0FBQUwsRUFBQWdCLEVBQUFYLElBQUFBLEVBQUFhLEVBQUF5RSxFQUFBeEYsR0FBQSxJQUFBbUUsRUFBQXFCLEVBQUF4RSxVQTZDaEIsT0E3Q2dCbUQsRUFNakJDLE1BQUEsV0FDSWxELEtBQUt1RSxxQkFDTHZFLEtBQUt3RSxTQUFTeEUsS0FBS3VFLG1CQUFvQixLQUMxQ3RCLEVBRUtzQiw4QkFBa0IsSUFBQUUsRUFBQTFELEVBQUFDLElBQUFDLE1BQXhCLFNBQUFDLElBQUEsSUFBQWtDLEVBQUEsT0FBQXBDLElBQUFHLGVBQUFDLEdBQUEsY0FBQUEsRUFBQUMsS0FBQUQsRUFBQUUsTUFBQSxPQUFBLE9BQUFGLEVBQUFFLE9BQzJCVixFQUFZQyxrQkFBaUIsUUFBOUN1QyxFQUFRaEMsRUFBQWtDLE9BRVZ6QixRQUFRSSxJQUFJLDBCQUEyQm1CLEdBQ3ZDcEQsS0FBSzBFLFVBQVV0QixFQUFTZixJQUFLZSxFQUFTZCxNQUV0Q1QsUUFBUUMsTUFBTSxxQ0FDakIsT0FBQSxVQUFBLE9BQUFWLEVBQUEwQixVQUFBNUIsWUFDSixPQUFBLFdBQUEsT0FBQXVELEVBQUFqRixXQUFBTixlQUFBK0QsRUFFS3lCLHFCQUFTLElBQUFDLEVBQUE1RCxFQUFBQyxJQUFBQyxNQUFmLFNBQUEyRCxFQUFnQnZDLEVBQWFDLEVBQWF1QyxHQUFZLElBQUFDLEVBQUFwQixPQUFBLE9BQUExQyxJQUFBRyxlQUFBNEQsR0FBQSxjQUFBQSxFQUFBMUQsS0FBQTBELEVBQUF6RCxNQUFBLGdCQUFadUQsSUFBQUEsRUFBZSxJQUN2QyxJQUNDLElBQ1RDLEVBQVNSLEVBQWNVLG1CQUFrQjFDLE1BQU9ELE1BQU93QyxFQUE5Q1AseUJBQXNGQSxFQUFjVyxhQUVuSEMsRUFBYUMsV0FBdUJMLEdBQUssU0FBQ00sRUFBS0MsR0FDM0MsR0FBSUQsRUFDQXZELFFBQVFDLE1BQU0sZ0NBQWlDc0QsT0FEbkQsQ0FLQSxJQUFNRSxFQUFVLElBQUlDLEVBQ3BCRCxFQUFRRSxNQUFRSCxFQUVoQixJQUFNbkYsRUFBYyxJQUFJeEIsRUFDeEJ3QixFQUFZb0YsUUFBVUEsRUFFbEI1QixFQUFLK0IsV0FDTC9CLEVBQUsrQixVQUFVdkYsWUFBY0EsRUFDN0IyQixRQUFRSSxJQUFJLHNCQUVaSixRQUFRQyxNQUFNLDBDQUVuQixPQUFBLFVBQUEsT0FBQWlELEVBQUFqQyxVQUFBOEIsT0FDTixPQUFBLFNBQUFjLEVBQUFDLEVBQUFDLEdBQUEsT0FBQWpCLEVBQUFuRixXQUFBTixlQUFBb0YsR0E5QzhCbEUsSUFJUDRFLGVBQWlCLDZEQUE0RFgsRUFDN0VZLGFBQWUsNEZBQTJGdEcsRUFBQUMsR0FKakhDLEVBSWlId0YsR0FBQXZFLHVCQUFBdkIsSUFBQThCLGdCQUFBQyxjQUFBQyxZQUFBQyx1QkFBQSxPQUg5RyxRQURIQyxFQUNPNUIsS0FBQTRCLE1BNkMzQkMsSUFBQUM7O29UQ3JEWTRDLCtCQUFhLFNBQUFBLEtBY3JCLE9BWm1JQSxFQUV2SEMsYUFBWSxXQUFBLElBQUFxQyxFQUFBOUUsRUFBQUMsSUFBQUMsTUFBekIsU0FBQUMsRUFBMEJtQixFQUFhQyxFQUFhd0QsR0FBYyxJQUFBaEIsRUFBQWlCLEVBQUFDLEVBQUEsT0FBQWhGLElBQUFHLGVBQUFDLEdBQUEsY0FBQUEsRUFBQUMsS0FBQUQsRUFBQUUsTUFBQSxPQUM0QyxnQkFEMUR3RSxJQUFBQSxFQUFpQixJQUMzRGhCLEVBQVM5RSxLQUFLaUcsWUFBVzNELE1BQU9ELGtCQUFtQnlELDRCQUFnQzlGLEtBQUtpRixhQUFZN0QsRUFBQUMsT0FBQUQsRUFBQUUsT0FFL0U0RSxNQUFNcEIsR0FBSSxPQUFuQixPQUFSaUIsRUFBUTNFLEVBQUFrQyxLQUFBbEMsRUFBQUUsT0FDS3lFLEVBQVNJLE9BQU0sT0FBeEIsT0FBSkgsRUFBSTVFLEVBQUFrQyxLQUFBbEMsRUFBQUcsZ0JBQ0h5RSxFQUFLSSxVQUFRLFFBRThCLE9BRjlCaEYsRUFBQUMsUUFBQUQsRUFBQWlGLEdBQUFqRixXQUVwQlMsUUFBUUMsTUFBTSw0QkFBMkJWLEVBQUFpRixJQUFTakYsRUFBQUcsZ0JBQzNDLE1BQUksUUFBQSxVQUFBLE9BQUFILEVBQUEwQixVQUFBNUIscUJBRWxCLE9BQUEsU0FBQXdFLEVBQUFDLEVBQUFDLEdBQUEsT0FBQUMsRUFBQXJHLFdBQUFOLFlBVndCLEdBVXhCcUUsTUFkUUEsRUFDZTBDLFFBQVUsK0RBRHpCMUMsRUFFZTBCLGFBQWUsOEZBQTJGdkUsSUFBQUMiLCJmaWxlIjoiYWxsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX2RlY29yYXRvciwgQ29tcG9uZW50LCBTcHJpdGUsIFNwcml0ZUZyYW1lIH0gZnJvbSAnY2MnO1xuY29uc3QgeyBjY2NsYXNzLCBwcm9wZXJ0eSB9ID0gX2RlY29yYXRvcjtcblxuQGNjY2xhc3MoJ0J1aWxkaW5nJylcbmV4cG9ydCBjbGFzcyBCdWlsZGluZyBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgQHByb3BlcnR5KFNwcml0ZSlcbiAgICBzcHJpdGU6IFNwcml0ZSA9IG51bGw7XG5cbiAgICBAcHJvcGVydHkoU3ByaXRlRnJhbWUpXG4gICAgZnJvemVuVGV4dHVyZTogU3ByaXRlRnJhbWUgPSBudWxsO1xuXG4gICAgb25Mb2FkKCkge1xuICAgICAgICB0aGlzLnNwcml0ZS5zcHJpdGVGcmFtZSA9IHRoaXMuZnJvemVuVGV4dHVyZTtcbiAgICB9XG59IiwiZXhwb3J0IGNsYXNzIEdlb0xvY2F0aW9uIHtcbiAgICBzdGF0aWMgYXN5bmMgZ2V0VXNlckxvY2F0aW9uKCk6IFByb21pc2U8eyBsYXQ6IG51bWJlciwgbG9uOiBudW1iZXIgfSB8IG51bGw+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGlmICghbmF2aWdhdG9yLmdlb2xvY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIuKdjCDQk9C10L7Qu9C+0LrQsNGG0ZbRjyDQvdC1INC/0ZbQtNGC0YDQuNC80YPRlNGC0YzRgdGPINCx0YDQsNGD0LfQtdGA0L7QvC5cIik7XG4gICAgICAgICAgICAgICAgcmVqZWN0KG51bGwpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihcbiAgICAgICAgICAgICAgICAocG9zaXRpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLwn5ONINCe0YLRgNC40LzQsNC90L4g0LrQvtC+0YDQtNC40L3QsNGC0Lg6XCIsIHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSwgcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbGF0OiBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBsb246IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihg4p2MINCf0L7QvNC40LvQutCwINC+0YLRgNC40LzQsNC90L3RjyDQs9C10L7Qu9C+0LrQsNGG0ZbRlyAoJHtlcnJvci5jb2RlfSk6YCwgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZXJyb3IuY29kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBlcnJvci5QRVJNSVNTSU9OX0RFTklFRDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwi4p2MINCa0L7RgNC40YHRgtGD0LLQsNGHINC30LDQsdC+0YDQvtC90LjQsiDQtNC+0YHRgtGD0L8g0LTQviDQs9C10L7Qu9C+0LrQsNGG0ZbRly5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGVycm9yLlBPU0lUSU9OX1VOQVZBSUxBQkxFOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLinYwg0IbQvdGE0L7RgNC80LDRhtGW0Y8g0L/RgNC+INC80ZbRgdGG0LXQt9C90LDRhdC+0LTQttC10L3QvdGPINC90LXQtNC+0YHRgtGD0L/QvdCwLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZXJyb3IuVElNRU9VVDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwi4p2MINCX0LDQv9C40YIg0L3QsCDQvtGC0YDQuNC80LDQvdC90Y8g0LPQtdC+0LvQvtC60LDRhtGW0Zcg0L/QtdGA0LXQstC40YnQuNCyINGH0LDRgSDQvtGH0ZbQutGD0LLQsNC90L3Rjy5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLinYwg0J3QtdCy0ZbQtNC+0LzQsCDQv9C+0LzQuNC70LrQsC5cIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG51bGwpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgeyBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWUsIHRpbWVvdXQ6IDEwMDAwIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBfZGVjb3JhdG9yLCBDb21wb25lbnQsIE5vZGUsIFByZWZhYiwgaW5zdGFudGlhdGUgfSBmcm9tICdjYyc7XG5pbXBvcnQgeyBNYXBib3hTZXJ2aWNlIH0gZnJvbSAnLi9NYXBib3hTZXJ2aWNlJztcbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IF9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzKCdNYWluJylcbmV4cG9ydCBjbGFzcyBNYWluIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBAcHJvcGVydHkoUHJlZmFiKVxuICAgIGJ1aWxkaW5nUHJlZmFiOiBQcmVmYWIgPSBudWxsO1xuXG4gICAgYXN5bmMgc3RhcnQoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwi4pyFIE1haW4udHMg0L/RltC00LrQu9GO0YfQtdC90LjQuSDRg9GB0L/RltGI0L3QviFcIik7XG5cbiAgICAgICAgY29uc3QgbG9jYXRpb24gPSBhd2FpdCBHZW9Mb2NhdGlvbi5nZXRVc2VyTG9jYXRpb24oKTtcbiAgICAgICAgaWYgKCFsb2NhdGlvbikgcmV0dXJuO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKFwi8J+MjSDQktC40LrQvtC90YPRjiDQt9Cw0L/QuNGCINC00L4gTWFwYm94IEFQSS4uLlwiKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGJ1aWxkaW5ncyA9IGF3YWl0IE1hcGJveFNlcnZpY2UuZ2V0QnVpbGRpbmdzKGxvY2F0aW9uLmxhdCwgbG9jYXRpb24ubG9uKTtcbiAgICAgICAgY29uc29sZS5sb2coXCLwn4+iINCe0YLRgNC40LzQsNC90ZYg0LHRg9C00ZbQstC70ZY6XCIsIGJ1aWxkaW5ncyk7XG5cbiAgICAgICAgdGhpcy5zcGF3bkJ1aWxkaW5ncyhidWlsZGluZ3MpO1xuICAgIH1cblxuICAgIHNwYXduQnVpbGRpbmdzKGJ1aWxkaW5nczogYW55W10pIHtcbiAgICAgICAgYnVpbGRpbmdzLmZvckVhY2goYnVpbGRpbmdEYXRhID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJ1aWxkaW5nTm9kZSA9IGluc3RhbnRpYXRlKHRoaXMuYnVpbGRpbmdQcmVmYWIpO1xuICAgICAgICAgICAgYnVpbGRpbmdOb2RlLnNldFBvc2l0aW9uKGJ1aWxkaW5nRGF0YS5nZW9tZXRyeS5jb29yZGluYXRlc1swXSwgYnVpbGRpbmdEYXRhLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzFdKTtcbiAgICAgICAgICAgIHRoaXMubm9kZS5hZGRDaGlsZChidWlsZGluZ05vZGUpO1xuICAgICAgICB9KTtcbiAgICB9XG59IiwiaW1wb3J0IHsgX2RlY29yYXRvciwgQ29tcG9uZW50LCBTcHJpdGUsIFNwcml0ZUZyYW1lLCBUZXh0dXJlMkQsIGFzc2V0TWFuYWdlciwgSW1hZ2VBc3NldCB9IGZyb20gJ2NjJztcbmltcG9ydCB7IEdlb0xvY2F0aW9uIH0gZnJvbSBcIi4vR2VvTG9jYXRpb25cIjsgLy8g0JTQvtC00LDRlNC80L4g0ZbQvNC/0L7RgNGCINCz0LXQvtC70L7QutCw0YbRltGXXG5cbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IF9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzKCdNYXBib3hNYW5hZ2VyJylcbmV4cG9ydCBjbGFzcyBNYXBib3hNYW5hZ2VyIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBAcHJvcGVydHkoU3ByaXRlKVxuICAgIG1hcFNwcml0ZTogU3ByaXRlID0gbnVsbDtcblxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IE1BUEJPWF9BUElfVVJMID0gXCJodHRwczovL2FwaS5tYXBib3guY29tL3N0eWxlcy92MS9tYXBib3gvc3RyZWV0cy12MTEvc3RhdGljXCI7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQUNDRVNTX1RPS0VOID0gXCJway5leUoxSWpvaWFXTmxkRzkzYmlJc0ltRWlPaUpqYlRZM2RHTjBOVFl3Tm0xeU1tdHpPSFJ1Y3pscWJuSTNJbjAuUVN2TDNwYnc5WWR2akhhcjZ1eUo3Z1wiOyBcblxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLnVwZGF0ZVVzZXJMb2NhdGlvbigpOyAvLyDQntGC0YDQuNC80YPRlNC80L4g0L/QtdGA0YjRgyDQs9C10L7Qu9C+0LrQsNGG0ZbRjlxuICAgICAgICB0aGlzLnNjaGVkdWxlKHRoaXMudXBkYXRlVXNlckxvY2F0aW9uLCAzMCk7IC8vIPCflLkg0J7QvdC+0LLQu9GO0ZTQvNC+INCz0LXQvtC70L7QutCw0YbRltGOINC60L7QttC90ZYgMzAg0YHQtdC60YPQvdC0XG4gICAgfVxuXG4gICAgYXN5bmMgdXBkYXRlVXNlckxvY2F0aW9uKCkge1xuICAgICAgICBjb25zdCBsb2NhdGlvbiA9IGF3YWl0IEdlb0xvY2F0aW9uLmdldFVzZXJMb2NhdGlvbigpO1xuICAgICAgICBpZiAobG9jYXRpb24pIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi8J+TjSDQk9C10L7Qu9C+0LrQsNGG0ZbRjyDQvtC90L7QstC70LXQvdCwOlwiLCBsb2NhdGlvbik7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU1hcChsb2NhdGlvbi5sYXQsIGxvY2F0aW9uLmxvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwi4p2MINCd0LUg0LLQtNCw0LvQvtGB0Y8g0L7RgtGA0LjQvNCw0YLQuCDQs9C10L7Qu9C+0LrQsNGG0ZbRji5cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyB1cGRhdGVNYXAobGF0OiBudW1iZXIsIGxvbjogbnVtYmVyLCB6b29tOiBudW1iZXIgPSAxNSkge1xuICAgICAgICBjb25zdCB3aWR0aCA9IDUxMjsgLy8g0KDQvtC30LzRltGAINC60LDRgNGC0LhcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gNTEyO1xuICAgICAgICBjb25zdCB1cmwgPSBgJHtNYXBib3hNYW5hZ2VyLk1BUEJPWF9BUElfVVJMfS8ke2xvbn0sJHtsYXR9LCR7em9vbX0vJHt3aWR0aH14JHtoZWlnaHR9P2FjY2Vzc190b2tlbj0ke01hcGJveE1hbmFnZXIuQUNDRVNTX1RPS0VOfWA7XG5cbiAgICAgICAgYXNzZXRNYW5hZ2VyLmxvYWRSZW1vdGU8SW1hZ2VBc3NldD4odXJsLCAoZXJyLCBpbWFnZUFzc2V0KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIuKdjCDQn9C+0LzQuNC70LrQsCDQt9Cw0LLQsNC90YLQsNC20LXQvdC90Y8g0LrQsNGA0YLQuDpcIiwgZXJyKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHRleHR1cmUgPSBuZXcgVGV4dHVyZTJEKCk7XG4gICAgICAgICAgICB0ZXh0dXJlLmltYWdlID0gaW1hZ2VBc3NldDtcblxuICAgICAgICAgICAgY29uc3Qgc3ByaXRlRnJhbWUgPSBuZXcgU3ByaXRlRnJhbWUoKTtcbiAgICAgICAgICAgIHNwcml0ZUZyYW1lLnRleHR1cmUgPSB0ZXh0dXJlO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5tYXBTcHJpdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1hcFNwcml0ZS5zcHJpdGVGcmFtZSA9IHNwcml0ZUZyYW1lO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi4pyFINCa0LDRgNGC0LAg0L7QvdC+0LLQu9C10L3QsCFcIik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLinYwg0J/QvtC80LjQu9C60LA6IG1hcFNwcml0ZSDQvdC1INCy0LjQt9C90LDRh9C10L3Qvi5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn0iLCJleHBvcnQgY2xhc3MgTWFwYm94U2VydmljZSB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQVBJX1VSTCA9IFwiaHR0cHM6Ly9hcGkubWFwYm94LmNvbS92NC9tYXBib3gubWFwYm94LXN0cmVldHMtdjgvdGlsZXF1ZXJ5XCI7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQUNDRVNTX1RPS0VOID0gXCJway5leUoxSWpvaWFXTmxkRzkzYmlJc0ltRWlPaUpqYlRZM2RHTjBOVFl3Tm0xeU1tdHpPSFJ1Y3pscWJuSTNJbjAuUVN2TDNwYnc5WWR2akhhcjZ1eUo3Z1wiOyAvLyDQl9Cw0LzRltC90ZbRgtGMINGB0LLQvtGX0Lwg0YLQvtC60LXQvdC+0LxcblxuICAgIHN0YXRpYyBhc3luYyBnZXRCdWlsZGluZ3MobGF0OiBudW1iZXIsIGxvbjogbnVtYmVyLCByYWRpdXM6IG51bWJlciA9IDUwKTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgY29uc3QgdXJsID0gYCR7dGhpcy5BUElfVVJMfS8ke2xvbn0sJHtsYXR9Lmpzb24/cmFkaXVzPSR7cmFkaXVzfSZsaW1pdD0xMCZhY2Nlc3NfdG9rZW49JHt0aGlzLkFDQ0VTU19UT0tFTn1gO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwpO1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgIHJldHVybiBkYXRhLmZlYXR1cmVzO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIGJ1aWxkaW5nczpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiJdfQ==